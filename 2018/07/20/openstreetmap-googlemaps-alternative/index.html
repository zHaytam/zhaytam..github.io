<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https:\/\/blog.zhaytam.com\/"
        },
        "articleSection" : "post",
        "name" : "OpenStreetMap, Google Maps alternative using Leaflet",
        "headline" : "OpenStreetMap, Google Maps alternative using Leaflet",
        "description" : "In result of Google\u0026rsquo;s latest updates to its Maps API services (June 11, 2018), a lot of people are unhappy with these shocking changes.\n Increase in the price. Decrease in the free map loads. Obligation of adding a billing account. Etc\u0026hellip;  Therefore, a lot of those people are looking to replace their use of Google Maps to something as good (or at least remotely as good).",
        "inLanguage" : "en",
        "author" : "Zanid Haytam",
        "creator" : "Zanid Haytam",
        "publisher": {
        	"@type" : "Organization",
            "name" : "Zanid Haytam",
            "logo" : {
            	"@type" : "ImageObject",
            	"url" : "https:\/\/blog.zhaytam.com\/img\/me.jpg"
            }
        },
        "accountablePerson" : "Zanid Haytam",
        "copyrightHolder" : "Zanid Haytam",
        "copyrightYear" : "2018",
        "datePublished": "2018-07-20T18:39:00Z",
        "dateModified" : "2018-07-20T18:39:00Z",
        "url" : "https:\/\/blog.zhaytam.com\/2018\/07\/20\/openstreetmap-googlemaps-alternative\/",
        "wordCount" : "1332",
        "image" : "https:\/\/blog.zhaytam.com\/img\/map.jpg",
        "keywords" : [ "Google Maps Alternative","Javascript","Leaflet","OpenStreetMap","Blog" ]   
    }
    </script>


 <title>OpenStreetMap, Google Maps alternative using Leaflet </title>


<meta name="description" content="Zanid Haytam&#39;s personal blog about Programming, Data Science and random stuff." />



<title itemprop="name">OpenStreetMap, Google Maps alternative using Leaflet | Awaiting Bits</title>
<meta property="og:title" content="OpenStreetMap, Google Maps alternative using Leaflet | Awaiting Bits" />
<meta name="twitter:title" content="OpenStreetMap, Google Maps alternative using Leaflet | Awaiting Bits" />
<meta itemprop="name" content="OpenStreetMap, Google Maps alternative using Leaflet | Awaiting Bits" />
<meta name="application-name" content="OpenStreetMap, Google Maps alternative using Leaflet | Awaiting Bits" />
<meta property="og:site_name" content="" />


<meta name="description" content="Zanid Haytam&#39;s personal blog about Programming, Data Science and random stuff." />
<meta itemprop="description" content="Zanid Haytam&#39;s personal blog about Programming, Data Science and random stuff." />
<meta property="og:description" content="Zanid Haytam&#39;s personal blog about Programming, Data Science and random stuff." />
<meta name="twitter:description" content="Zanid Haytam&#39;s personal blog about Programming, Data Science and random stuff." />


<base href="https://blog.zhaytam.com/2018/07/20/openstreetmap-googlemaps-alternative/">
<link rel="canonical" href="https://blog.zhaytam.com/2018/07/20/openstreetmap-googlemaps-alternative/" itemprop="url" /> 
<meta name="url" content="https://blog.zhaytam.com/2018/07/20/openstreetmap-googlemaps-alternative/" />
<meta name="twitter:url" content="https://blog.zhaytam.com/2018/07/20/openstreetmap-googlemaps-alternative/" /> 
<meta property="og:url" content="https://blog.zhaytam.com/2018/07/20/openstreetmap-googlemaps-alternative/" />


<meta property="og:locale" content="en">
<meta name="language" content="Global">



 
  <meta itemprop="image" content="https://blog.zhaytam.com/img/map.jpg" />
  <meta property="og:image" content="https://blog.zhaytam.com/img/map.jpg" /> 
  <meta name="twitter:image" content="https://blog.zhaytam.com/img/map.jpg" />
  <meta name="twitter:image:src" content="https://blog.zhaytam.com/img/map.jpg" /> 



<meta property="og:updated_time" content=2018-07-20T18:39:00Z />
<link rel="sitemap" type="application/xml" title="Sitemap" href="https://blog.zhaytam.com/sitemap.xml" /> 





    <meta name="keywords" content="Google Maps Alternative,Javascript,Leaflet,OpenStreetMap" />

<meta name="imagemode" content="force" />
<meta name="coverage" content="Worldwide" /> 
<meta name="distribution" content="Global" />

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<link rel="stylesheet" id="ct-tracks-google-fonts-css" href="https://fonts.googleapis.com/css?family=Raleway%3A400%2C700&amp;subset=latin%2Clatin-ext&amp;ver=4.7.2" type="text/css" media="all">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

<link href="https://blog.zhaytam.com/css/style.css?v=1632440529" rel="stylesheet" id="theme-stylesheet" type='text/css' media='all'>

<link href="https://blog.zhaytam.com/css/custom.css?v=1632440529" rel="stylesheet" type='text/css' media='all'>
<link rel="shortcut icon" href="https://blog.zhaytam.com/img/favicon.ico" type="image/x-icon">
<link rel="icon" href="https://blog.zhaytam.com/img/favicon.ico" type="image/x-icon">


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-120926049-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>


<body class="post-template-default single single-post single-format-standard ct-body singular singular-post not-front standard">

  <div id="overflow-container" class="overflow-container">
    <a class="skip-content" href="#main">Skip to content</a>
    <header id="site-header" class="site-header" role="banner">
      <div class='top-navigation'>
        <div class='container'>

  <div id="menu-secondary" class="menu-container menu-secondary" role="navigation">
    <button id="toggle-secondary-navigation" class="toggle-secondary-navigation"><i class="fas fa-plus"></i></button>

    <div class="menu">

      <ul id="menu-secondary-items" class="menu-secondary-items">
        
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category">
          <a href="/categories/ai">ai</a>
        </li>
        
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category">
          <a href="/categories/algorithms">algorithms</a>
        </li>
        
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category">
          <a href="/categories/asp.net-core">asp.net-core</a>
        </li>
        
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category">
          <a href="/categories/blazor">blazor</a>
        </li>
        
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category">
          <a href="/categories/code-analysis">code-analysis</a>
        </li>
        
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category">
          <a href="/categories/csharp">csharp</a>
        </li>
        
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category">
          <a href="/categories/data-mining">data-mining</a>
        </li>
        
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category">
          <a href="/categories/deep-learning">deep-learning</a>
        </li>
        
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category">
          <a href="/categories/devops">devops</a>
        </li>
        
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category">
          <a href="/categories/other">other</a>
        </li>
        
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category">
          <a href="/categories/programming">programming</a>
        </li>
        
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category">
          <a href="/categories/protocols">protocols</a>
        </li>
        

      </ul>

    </div>

  </div>


  <ul class="social-media-icons">


    

    

    

    

    
    <li>
      <a href="mailto:haytam.zanid@gmail.com" data-animate-hover="pulse" class="email">
        <i class="fas fa-envelope" title="email"></i>
        <span class="screen-reader-text">email</span>
      </a>
    </li>
    

    
    <li>
      <a href="https://ma.linkedin.com/in/zanid-haytam" data-animate-hover="pulse" class="linkedin" target="_blank">
        <i class="fab fa-linkedin-in" title="linkedin"></i>
        <span class="screen-reader-text">linkedin</span>
      </a>
    </li>
    

    
    <li>
      <a href="https://stackoverflow.com/users/5447084/haytam" data-animate-hover="pulse" class="stackoverflow" target="_blank">
        <i class="fab fa-stack-overflow" title="stackoverflow"></i>
        <span class="screen-reader-text">stackoverflow</span>
      </a>
    </li>
    


    
    <li>
      <a href="https://github.com/zHaytam" data-animate-hover="pulse" class="github" target="_blank">
        <i class="fab fa-github" title="github"></i>
        <span class="screen-reader-text">github</span>
      </a>
    </li>
    


    

    
    <li>
      <a href="https://blog.zhaytam.com/index.xml" data-animate-hover="pulse" class="rss" target="_blank">
        <i class="fas fa-rss" title="rss"></i>
        <span class="screen-reader-text">rss</span>
      </a>
    </li>
    


  </ul></div>

      </div>

      <div class="container">
        <div id="title-info" class="title-info">
  <div id='site-title' class='site-title'>
    
    <a href="/"> Awaiting Bits </a>
    </div>
  </div>
  <button id="toggle-navigation" class="toggle-navigation">
    <i class="fas fa-bars"></i>
  </button>

  <div id="menu-primary-tracks" class="menu-primary-tracks"></div>
  <div id="menu-primary" class="menu-container menu-primary" role="navigation">
    
    <p class="site-description">Zanid Haytam's personal blog about Programming, Data Science and random stuff.</p>
    

    <div class="menu">
      <ul id="menu-primary-items" class="menu-primary-items">
        
        
        <li class='menu-item menu-item-type-custom menu-item-object-custom '>
          <a href="https://blog.zhaytam.com/">Home</a>
          
        </li>
        
        <li class='menu-item menu-item-type-post_type menu-item-object-page '>
          <a href="https://blog.zhaytam.com/about/">About</a>
          
        </li>
        
        <li class='menu-item menu-item-type-post_type menu-item-object-page '>
          <a href="https://blog.zhaytam.com/contact/">Get in touch</a>
          
        </li>
        
      </ul>
    </div>

  </div>

      </div>
    </header>

    <div id="main" class="main" role="main">

      
  
  
    
  
  
  <div id="loop-container" class="loop-container">
    
    <div class="post type-post status-publish format-standard has-post-thumbnail hentry category-design tag-design tag-standard-2 tag-tagalicious tag-travel entry full-without-featured odd excerpt-1">

      <div class='featured-image lazy lazy-bg-image'  data-background="https://blog.zhaytam.com/img/map.jpg">
      </div>
      
        <div class="entry-meta">
          <span class="date">20 July</span>	<span> / </span>

          <span class="author">
            <a href="https://blog.zhaytam.com/about/" title="Posts by Zanid Haytam" rel="author">Zanid Haytam</a>
          </span>


          
          <span class="category">
            <span> / </span>

            <a href="/categories/programming">Programming</a>
          </span>
          


        </div>
        <div class='entry-header'>
          <h1 class='entry-title'> OpenStreetMap, Google Maps alternative using Leaflet</h1>
        </div>
        <div class="entry-container">
          <div class="entry-content">
            <article>
              <p>In result of Google&rsquo;s latest updates to its Maps API services (June 11, 2018), a lot of people are unhappy with these shocking changes.</p>
<ul>
<li>Increase in the price.</li>
<li>Decrease in the free map loads.</li>
<li>Obligation of adding a billing account.</li>
<li>Etc&hellip;</li>
</ul>
<p>Therefore, a lot of those people are looking to replace their use of Google Maps to something as good (or at least remotely as good).</p>
<p>Today, I&rsquo;ll talk about <a href="https://www.openstreetmap.org">OpenStreetMap</a>, a possible alternative to Google Maps. Why is it good and how to use it using the <a href="https://leafletjs.com/">Leaflet javascript library</a>.</p>
<p>The code used in this post is available <a href="https://github.com/zHaytam/AwaitingBits_BlogPostsCodes/tree/master/OpenStreetMap%2C%20Google%20Maps%20alternative%20using%20Leaflet">here</a> and the demo page is <a href="https://zhaytam.github.io/AwaitingBits_BlogPostsCodes/OpenStreetMap,%20Google%20Maps%20alternative%20using%20Leaflet/">here</a>.</p>
<h2 id="changes-to-google-maps">Changes to Google Maps</h2>
<p>Here are some of the changes Google did:</p>
<ul>
<li>Standard and Premium plans have been merged into a pay-as-you-go plan.</li>
<li>Google raised its price by more than 1400%!</li>
<li>All projects now need valid API keys, there is no more keyless access.</li>
<li>In order to be able to use the Maps API, you&rsquo;ll have to add a billing account (even for “free” use).</li>
<li>Every month, you&rsquo;ll get 200$ of free usage. This is equal to 28,000 requests per MONTH (while before, it was 25,000 requests per DAY).</li>
<li>The support is now free for both usages.</li>
<li>Upon exceeding the 200$, your account will be charged <strong>7$</strong> per 1000 requests (yes, 7 dollars).</li>
</ul>
<h2 id="openstreetmap">OpenStreetMap</h2>
<p>Before starting the integration part, let&rsquo;s talk about OSM.</p>
<h3 id="what-is-it">What is it</h3>
<p><a href="https://www.openstreetmap.org">OpenStreetMap</a> is a collaborative project to create a free editable map of the world. Rather than the map itself, the data generated by the project is considered its primary output.</p>
<p>It is built by a community of mappers that contribute and maintain data about roads, trails, cafés, railway stations, and much more, all over the world.</p>
<h3 id="why-is-it-good">Why is it good</h3>
<ul>
<li><strong>Local Knowledge</strong>: OpenStreetMap emphasizes local knowledge. Contributors use aerial imagery, GPS devices, and low-tech field maps to verify that OSM is accurate and up to date.</li>
<li><strong>Community Driven:</strong> OpenStreetMap&rsquo;s community is diverse, passionate, and growing every day. Our contributors include enthusiast mappers, GIS professionals, engineers running the OSM servers, humanitarians mapping disaster-affected areas, and many more.</li>
<li><strong>Open Data:</strong> OpenStreetMap is <em>open data</em>: you are free to use it for any purpose as long as you credit OpenStreetMap and its contributors. If you alter or build upon the data in certain ways, you may distribute the result only under the same license.</li>
</ul>
<p>What makes it great is that it&rsquo;s open source, free to use and highly customizable. Actual people helped making it thanks to their contributions and even you can help in the process!</p>
<h2 id="integrating-openstreetmap-to-your-website-using-leaflet">Integrating OpenStreetMap to your website using Leaflet</h2>
<p>In this part, we&rsquo;re going to look at how to:</p>
<ol>
<li>Add a map to your website.</li>
<li>Add markers to our map.</li>
<li>Handle click events on the map/markers.</li>
</ol>
<figure>
    <img src="/img/chrome_2018-07-20_18-18-51.png"
         alt="Final result"/> <figcaption>
            <h4>Final result</h4>
        </figcaption>
</figure>

<h3 id="requirements">Requirements</h3>
<ul>
<li>A basic knowledge of HTML, CSS and Javascript (nothing fancy).</li>
<li>The leaflet library (<a href="https://leafletjs.com/download.html">download here</a>).</li>
</ul>
<p>My project&rsquo;s structure is as follow:</p>
<ul>
<li>leaflet
<ul>
<li>library&rsquo;s files</li>
</ul>
</li>
<li>index.html</li>
<li>main.js</li>
</ul>
<h3 id="adding-the-map">Adding the map</h3>
<p>At first, your index page should look like:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#999;font-weight:bold;font-style:italic">&lt;!DOCTYPE html&gt;</span>

&lt;<span style="color:#000080">html</span> <span style="color:#008080">lang</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;en&#34;</span> <span style="color:#008080">xmlns</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;http://www.w3.org/1999/xhtml&#34;</span>&gt;
&lt;<span style="color:#000080">head</span>&gt;
    &lt;<span style="color:#000080">meta</span> <span style="color:#008080">charset</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;utf-8&#34;</span> /&gt;
    &lt;<span style="color:#000080">title</span>&gt;OpenStreetMap, Google Maps alternative using Leaflet&lt;/<span style="color:#000080">title</span>&gt;
&lt;/<span style="color:#000080">head</span>&gt;
&lt;<span style="color:#000080">body</span>&gt;

&lt;/<span style="color:#000080">body</span>&gt;
&lt;/<span style="color:#000080">html</span>&gt;
</code></pre></div><p>We&rsquo;ll then go ahead and import leaflet and our javascript file:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">...
    &lt;<span style="color:#000080">link</span> <span style="color:#008080">rel</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;stylesheet&#34;</span> <span style="color:#008080">href</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;leaflet/leaflet.css&#34;</span> /&gt;
...

    &lt;<span style="color:#000080">script</span> <span style="color:#008080">src</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;leaflet/leaflet.js&#34;</span>&gt;&lt;/<span style="color:#000080">script</span>&gt;
    &lt;<span style="color:#000080">script</span> <span style="color:#008080">src</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;main.js&#34;</span>&gt;&lt;/<span style="color:#000080">script</span>&gt;
...
</code></pre></div><p>We&rsquo;ll then add a div element that will contain the map. This element has to have a height in order for the map to show and an Id.</p>
<p>In my case, I went ahead and added a title and centered everything on the page.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#999;font-weight:bold;font-style:italic">&lt;!DOCTYPE html&gt;</span>

&lt;<span style="color:#000080">html</span> <span style="color:#008080">lang</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;en&#34;</span> <span style="color:#008080">xmlns</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;http://www.w3.org/1999/xhtml&#34;</span>&gt;
&lt;<span style="color:#000080">head</span>&gt;
    &lt;<span style="color:#000080">meta</span> <span style="color:#008080">charset</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;utf-8&#34;</span> /&gt;
    &lt;<span style="color:#000080">title</span>&gt;OpenStreetMap, Google Maps alternative using Leaflet&lt;/<span style="color:#000080">title</span>&gt;
    &lt;<span style="color:#000080">link</span> <span style="color:#008080">rel</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;stylesheet&#34;</span> <span style="color:#008080">href</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;leaflet/leaflet.css&#34;</span> /&gt;
    &lt;<span style="color:#000080">style</span>&gt;
        <span style="color:#000080">html</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000080">body</span> {
            <span style="color:#000;font-weight:bold">text-align</span>: <span style="color:#000;font-weight:bold">center</span>;
        }
        #<span style="color:#555">map</span> {
            <span style="color:#000;font-weight:bold">height</span>: <span style="color:#099">500</span><span style="color:#458;font-weight:bold">px</span>;
            <span style="color:#000;font-weight:bold">width</span>: <span style="color:#099">700</span><span style="color:#458;font-weight:bold">px</span>;
            <span style="color:#000;font-weight:bold">max-width</span>: <span style="color:#099">100</span><span style="color:#458;font-weight:bold">%</span>;
            <span style="color:#000;font-weight:bold">margin</span>: <span style="color:#000;font-weight:bold">auto</span>;
        }
    &lt;/<span style="color:#000080">style</span>&gt;
&lt;/<span style="color:#000080">head</span>&gt;
&lt;<span style="color:#000080">body</span>&gt;

    &lt;<span style="color:#000080">h1</span>&gt;OpenStreetMap, Google Maps alternative using Leaflet&lt;/<span style="color:#000080">h1</span>&gt;
    &lt;<span style="color:#000080">div</span> <span style="color:#008080">id</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;map&#34;</span>&gt;&lt;/<span style="color:#000080">div</span>&gt;

    &lt;<span style="color:#000080">script</span> <span style="color:#008080">src</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;leaflet/leaflet.js&#34;</span>&gt;&lt;/<span style="color:#000080">script</span>&gt;
    &lt;<span style="color:#000080">script</span> <span style="color:#008080">src</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;main.js&#34;</span>&gt;&lt;/<span style="color:#000080">script</span>&gt;

&lt;/<span style="color:#000080">body</span>&gt;
&lt;/<span style="color:#000080">html</span>&gt;
</code></pre></div><p>Now to the Javascript part!</p>
<p>To keep everything clean and simple, I created a function that will handle the map creation:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#000;font-weight:bold">function</span> createMap(elemId, centerLat, centerLng, zoom) {
    <span style="color:#000;font-weight:bold">var</span> map <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> L.Map(elemId);

    <span style="color:#998;font-style:italic">// Data provider
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">var</span> osmUrl <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#39;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#39;</span>;
    <span style="color:#000;font-weight:bold">var</span> osmAttrib <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#39;Map data © &lt;a href=&#34;https://openstreetmap.org&#34;&gt;OpenStreetMap&lt;/a&gt; contributors&#39;</span>;

    <span style="color:#998;font-style:italic">// Layer
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">var</span> osmLayer <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> L.TileLayer(osmUrl, {
        minZoom<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">4</span>,
        maxZoom<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">20</span>,
        attribution<span style="color:#000;font-weight:bold">:</span> osmAttrib
    });

    <span style="color:#998;font-style:italic">// Map
</span><span style="color:#998;font-style:italic"></span>    map.setView(<span style="color:#000;font-weight:bold">new</span> L.LatLng(centerLat, centerLng), zoom);
    map.addLayer(osmLayer);
    <span style="color:#000;font-weight:bold">return</span> map;
}
</code></pre></div><p>Here&rsquo;s what this code does:</p>
<ol>
<li>Creates a Map instance using the element id specified.</li>
<li>Creates a TileLayer that uses OSM&rsquo;s url as a provider (we also add the custom attribution for copyright).</li>
<li>Sets the view of the map (center location and zoom).</li>
<li>Adds our OSM layer to the map and return it.</li>
</ol>
<p>Now all we have to do is use this function to initialize our map!</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#0086b3">document</span>.addEventListener(<span style="color:#d14">&#34;DOMContentLoaded&#34;</span>, <span style="color:#000;font-weight:bold">function</span> () {
    <span style="color:#998;font-style:italic">// The DOMContentLoaded event fires when the page is ready (like $(document).ready() in jQuery)
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">var</span> map <span style="color:#000;font-weight:bold">=</span> createMap(<span style="color:#d14">&#39;map&#39;</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">21.208312</span>, <span style="color:#099">46.262851</span>, <span style="color:#099">6</span>);
    <span style="color:#998;font-style:italic">// map is the id of our div element and the other options are
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// lattitude, longitude and zoom
</span><span style="color:#998;font-style:italic"></span>});
</code></pre></div><p>If you launch your index.html file in the browser, you should be able to see the map.</p>
<h3 id="adding-markers">Adding markers</h3>
<p>First, we&rsquo;ll store some positions (latLng) for our markers:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">markersLatLng <span style="color:#000;font-weight:bold">=</span> [
    [<span style="color:#000;font-weight:bold">-</span><span style="color:#099">18.586379</span>, <span style="color:#099">45.878906</span>],
    [<span style="color:#000;font-weight:bold">-</span><span style="color:#099">22.311967</span>, <span style="color:#099">47.373047</span>],
    [<span style="color:#000;font-weight:bold">-</span><span style="color:#099">20.61479</span>, <span style="color:#099">45.922852</span>]
];
</code></pre></div><p>Again, I created a function to handle creating markers to keep things clean:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000;font-weight:bold">function</span> addMarker(map, latLng, onClick) {
    <span style="color:#000;font-weight:bold">var</span> marker <span style="color:#000;font-weight:bold">=</span> L.marker(latLng).addTo(map);
    <span style="color:#000;font-weight:bold">if</span> (onClick <span style="color:#000;font-weight:bold">!==</span> <span style="color:#000;font-weight:bold">null</span>) {
        marker.on(<span style="color:#d14">&#39;click&#39;</span>, onClick);
    }
    <span style="color:#000;font-weight:bold">return</span> marker;
}
</code></pre></div><p>The code is pretty straightforward, it creates a marker instance using a latLng and adds it to the map.</p>
<p>I&rsquo;ll talk about the onClick parameter in the next part.</p>
<p>Now all we have to do is loop on our markers positions and use this function to add them after we create our map.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000;font-weight:bold">var</span> map <span style="color:#000;font-weight:bold">=</span> createMap(<span style="color:#d14">&#39;map&#39;</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">21.208312</span>, <span style="color:#099">46.262851</span>, <span style="color:#099">6</span>);

markersLatLng.forEach(<span style="color:#000;font-weight:bold">function</span>(latLng) {
    addMarker(map, latLng);
});
</code></pre></div><p>Refresh the index page and voila!, 3 markers added to the map!</p>
<figure>
    <img src="/img/chrome_2018-07-20_19-20-54.png"
         alt="With markers"/> <figcaption>
            <h4>With markers</h4>
        </figcaption>
</figure>

<h3 id="handling-click-events-on-the-mapmarkers">Handling click events on the map/markers</h3>
<p>Sometimes you want to make your map more interactive, maybe show more informations when the user clicks somewhere on the map or on a certain marker.</p>
<p>Thanks to Leaflet, it&rsquo;s very easy to do so.</p>
<p>Let&rsquo;s say we want to show the latLng of where the user clicks, we would either use html elements or simply use the popup element that Leaflet provides.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000;font-weight:bold">var</span> popup <span style="color:#000;font-weight:bold">=</span> L.popup(); <span style="color:#998;font-style:italic">// Create a popup instance
</span><span style="color:#998;font-style:italic">// NB: The popup should be created outside the for loop, we only need 1 popup
</span><span style="color:#998;font-style:italic"></span>
map.on(<span style="color:#d14">&#39;click&#39;</span>, <span style="color:#000;font-weight:bold">function</span> (e) {
    <span style="color:#998;font-style:italic">// When the map is clicked, this function is executed
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// The parameter &#39;e&#39; gives us informations about the click
</span><span style="color:#998;font-style:italic"></span>    popup.setLatLng(e.latlng)
         .setContent(<span style="color:#d14">&#34;What&#39;s here: &#34;</span> <span style="color:#000;font-weight:bold">+</span> e.latlng.toString())
         .openOn(map);
    <span style="color:#998;font-style:italic">// We set the popup&#39;s position to where the user clicked
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// Then set its content and open it on our map
</span><span style="color:#998;font-style:italic"></span>});
</code></pre></div><p>What if we want to show some kind of informations when the user clicks markers? Also simple.</p>
<p>I added a span element with the Id <code>markerInfos</code> where I&rsquo;ll be showing the latLng where the user clicked everytime.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000;font-weight:bold">var</span> markerInfos <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">document</span>.getElementById(<span style="color:#d14">&#34;markerInfos&#34;</span>);
<span style="color:#000;font-weight:bold">var</span> map <span style="color:#000;font-weight:bold">=</span> createMap(<span style="color:#d14">&#39;map&#39;</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">21.208312</span>, <span style="color:#099">46.262851</span>, <span style="color:#099">6</span>);

<span style="color:#998;font-style:italic">// This function simply sets the text of our span
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">function</span> onMarkerClick(e) {
    markerInfos.textContent <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Marker at &#34;</span> <span style="color:#000;font-weight:bold">+</span> e.latlng.toString() <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34; clicked!&#34;</span>;
}

markersLatLng.forEach(<span style="color:#000;font-weight:bold">function</span>(latLng) {
    addMarker(map, latLng, onMarkerClick);
    <span style="color:#998;font-style:italic">// Now we use the onClick parameter to pass our function
</span><span style="color:#998;font-style:italic"></span>});
</code></pre></div><p>Now if you refresh the page and click somewhere on the map, the popup will appear and if you click on one of the three markers, the span&rsquo;s text will change depending on the clicked marker.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Google Maps was used by a LOT of people, until they changed their service and made it a lot more expensive to use.</p>
<p>For small websites this can be fine, but for larger websites or simply websites that get a lot of hits per day, the bill can easily shock you.</p>
<p>This is why I went looking for an alternative and I found OpenStreetMap, the open-source and free map.</p>
<p>Coupled with Leaflet, It&rsquo;s very easy to integrate and customize and I urge people to try it.</p>

            </article>
          </div>
          
      <div class='entry-meta-bottom'>
        

  <div class="entry-categories"><p><span>Categories</span>
    
    <a href="/categories/programming" title="View all posts in Programming">Programming</a>
  </p>
</div>



<div class="entry-tags"><p><span>Tags</span>
  
  <a href="/tags/google-maps-alternative" title="View all posts tagged Google Maps Alternative">Google Maps Alternative</a>
  
  <a href="/tags/javascript" title="View all posts tagged Javascript">Javascript</a>
  
  <a href="/tags/leaflet" title="View all posts tagged Leaflet">Leaflet</a>
  
  <a href="/tags/openstreetmap" title="View all posts tagged OpenStreetMap">OpenStreetMap</a>
  

</p></div>	</div>

	
<div class="author-meta">

  <div class="author">
    	
      <img alt='Zanid Haytam' src="https://www.gravatar.com/avatar/3b94119ba495ae8d2328fc0b2bb0825a?s=100&d=identicon" class='avatar avatar-72 photo' height='72' width='72'>
    
    <span>
      Written by:<a href="https://blog.zhaytam.com/about/" title="Posts by Zanid Haytam" rel="author">Zanid Haytam</a> </span>
    </div>
    <div class="bio">
      
      
      <p>Zanid Haytam is an enthusiastic programmer that enjoys coding, reading code, hunting bugs and writing blog posts.</p>
      
      
	







<a class="linkedin" target="_blank"
href="https://ma.linkedin.com/in/zanid-haytam">
<i class="fab fa-linkedin"
title="linkedin icon"></i>
</a>



<a class="email" target="_blank"
href="mailto:haytam.zanid@gmail.com">
<i class="fas fa-envelope"
title="email icon"></i>
</a>





<a class="stackoverflow" target="_blank"
href="https://stackoverflow.com/users/5447084/haytam">
<i class="fab fa-stack-overflow"
title="stackoverflow icon"></i>
</a>



<a class="github" target="_blank"
href="https://github.com/zHaytam">
<i class="fab fa-github"
title="github icon"></i>
</a>







</div>
</div>

</div>
</div>

<section id="comments" class="comments">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "awaiting-bits" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  




</section>
</div>

 



    </div>

    <footer id="site-footer" class="site-footer" role="contentinfo">
	<h1>
    
    <a href=""> Awaiting Bits </a>
    
	</h1>

			
			<p class="site-description">Zanid Haytam's personal blog about Programming, Data Science and random stuff.</p>
			

		<div id="menu-footer" class="menu-container menu-footer" role="navigation">
		<div class="menu">

      <ul id="menu-footer-items" class="menu-footer-items">
        
</ul>

</div>	</div>

<ul class="social-media-icons">

        

        


        

        

        
        <li>
        <a href="mailto:haytam.zanid@gmail.com"  class="email">
            <i class="fas fa-envelope" title="email"></i>
            <span class="screen-reader-text">email</span>
        </a>
        </li>
        

        
        <li>
        <a href="https://ma.linkedin.com/in/zanid-haytam" class="linkedin" target="_blank">
            <i class="fab fa-linkedin-in" title="linkedin"></i>
            <span class="screen-reader-text">linkedin</span>
        </a>
        </li>
        

        
        <li>
        <a href="https://stackoverflow.com/users/5447084/haytam"  class="stackoverflow" target="_blank">
            <i class="fab fa-stack-overflow" title="stackoverflow"></i>
            <span class="screen-reader-text">stackoverflow</span>
        </a>
        </li>
        


        
        <li>
        <a href="https://github.com/zHaytam"  class="github" target="_blank">
            <i class="fab fa-github" title="github"></i>
            <span class="screen-reader-text">github</span>
        </a>
        </li>
        


        

        
        <li>
        <a href="https://blog.zhaytam.com/index.xml" data-animate-hover="pulse" class="rss" target="_blank">
            <i class="fas fa-rss" title="rss"></i>
            <span class="screen-reader-text">rss</span>
        </a>
        </li>
        

				</ul>	<div class="design-credit">
		
		<p>© 2019 Zanid Haytam</p>
		
		<p>Nederburg Hugo Theme by <a href="https://appernetic.io">Appernetic</a>.</p>
		
		<p>A port of Tracks by Compete Themes.</p>
		
	</div>
</footer>

  </div>
  <script src="https://blog.zhaytam.com/js/jquery.min.js"></script>
<script src="https://blog.zhaytam.com/js/jquerymigrate.js"></script>
<script src="https://blog.zhaytam.com/js/production.min.js?v=1632440529"></script>


</body>
</html>
